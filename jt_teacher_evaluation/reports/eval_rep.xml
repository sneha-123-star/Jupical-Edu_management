<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="eval_receipt_report_template">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="jt_teacher_evaluation.custom_layout">
                    <div class="page">
                        
                        <div class="container" style="padding-top:150px;">
                            <div class="row">
                              <div class="col-4">
                                <p>Name:
                                <t t-esc="o.name"/> </p>                               
                              </div>
                              <div class="col-4">
                                
                                <p>Evauation Date :
                                <t t-esc="o.date"/></p>
                                
                              </div>
                              <div class="col-4">
                                
                                <p>Evaluator Name :
                                <t t-esc="o.user_id.name"/></p>                                
                              </div>
                              
                            </div>                            
                            <t t-set="length" t-value="len(o.tab_ids)"/>
                            <div style="height: 100px;"></div>
                            <table class="table">
                                <tr>
                                    <td rowspan="2"><strong>Number</strong></td>
                                    <td rowspan="2"><strong>Name</strong></td>
                                    <td colspan="10"><strong>Title Evaluation</strong></td>
                                    <td rowspan="2"><strong>Total</strong></td>
                                </tr>
                                <tr>
                                    <t t-foreach="range(1, 10+1)" t-as="no">
                                        <td><t t-esc="no"/></td>
                                    </t>

                                </tr>
                                    
                                <t t-set="count" t-value="1"/>
                                <t t-foreach="o.tab_ids.rating_id" t-as="rating">
                                <tr>
                                    <td>
                                        <t t-esc='count'/>
                                        <t t-set="count" t-value="count+1"/>
                                    </td>
                                    <td colspan="1">
                                        <t t-esc="o.teacher_id.name"/>
                                    </td>
                                        <t t-if="rating.rating == '1'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '2'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '3'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '4'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '5'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '6'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '7'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '8'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '9'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        
                                        <t t-if="rating.rating == '10'"> 
                                            <td colspan="1">
                                                <span t-esc="rating.rating"/>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1">
                                                
                                            </td>
                                        </t>
                                        <td colspan="2"><t t-esc="o.total"/></td>
                                  
                                </tr>
                                </t>
                            </table>
                            <!-- <div style="height: 120px;"></div> -->

                            <table class="table">
                                <tr>
                                    <td rowspan="2"><strong>Number</strong></td>
                                    <td rowspan="2"><strong>Information of Evaluation</strong></td>
                                </tr>
                                <tbody>
                                    <t t-set="count" t-value="1" />
                                    <t t-foreach="o.tab_ids" t-as="record">
                                        <tr>
                                            <td>
                                                <t t-esc="count"/>
                                                <t t-set="count" t-value="count + 1" />
                                            </td>
                                            <td><t t-esc="record.question_id.description" /></td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>
                        
        <record id="eval_report" model="ir.actions.report">
            <field name="name">Eval Receipt</field>
            <field name="model">eval.profile</field>
            <field name="report_type">qweb-html</field>
            <field name="report_name">jt_teacher_evaluation.eval_receipt_report_template</field>
            <field name="report_file">jt_teacher_evaluation.eval_receipt_report_template</field>
            <field name="print_report_name">"Eval Reciept"</field>
            <field name="binding_model_id" ref="jt_teacher_evaluation.model_eval_profile"/>
            <field name="binding_type">report</field>
        </record>
    </data>
</odoo>